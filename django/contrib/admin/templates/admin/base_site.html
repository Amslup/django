{% extends "admin/base.html" %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<div id="site-name"><a href="{% url 'admin:index' %}">{{ site_header|default:_('Django administration') }}</a></div>
{% if user.is_anonymous %}
  {% include "admin/color_theme_toggle.html" %}
{% endif %}
{% endblock %}

{% block nav-global %}{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <script>
        document.addEventListener('keydown', function(event) {
            // Save and continue editing on Command + S (Ctrl + S)
            if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey && event.key === 's') {
                event.preventDefault();
                document.querySelector('input[name="_continue"]').click();
                return false;
            }
            // Save on Command + Shift + S
            if ((event.ctrlKey || event.metaKey) && event.shiftKey && !event.altKey && event.key === 's') {
                event.preventDefault();
                document.querySelector('input[name="_save"]').click();
                return false;
            }
            // Save and add another on Command + Alt + S (Ctrl + Alt + S)
            if ((event.ctrlKey || event.metaKey) && !event.shiftKey && event.altKey && event.key === 's') {
                event.preventDefault();
                document.querySelector('input[name="_addanother"]').click();
                return false;
            }
        });
    </script>
{% endblock %}
