PostgreSQL specific form fields and widgets
===========================================

All of these fields and widgets are available from the
``django.contrib.postgres.forms`` module.

.. currentmodule:: django.contrib.postgres.forms

SimpleArrayField
----------------

.. class:: SimpleArrayField(base_field, delimiter=',', max_length=None, min_length=None)

    A simple field which maps to an array. It is represented by an HTML
    ``<input>``.

    .. attribute:: base_field

        This is a required argument.

        It specifies the underlying form field for the array. This is not used
        to render any HTML, but it is used to process the submitted data and
        validate it. For example::

            >>> from django.contrib.postgres.forms import SimpleArrayField
            >>> from django import forms

            >>> class NumberListForm(forms.Form):
            ...     numbers = SimpleArrayField(forms.IntegerField())

            >>> form = NumberListForm({'numbers': '1,2,3'})
            >>> form.is_valid()
            True
            >>> form.cleaned_data
            {'numbers': [1, 2, 3]}

            >>> form = NumberListForm({'numbers': '1,2,a'})
            >>> form.is_valid()
            False

    .. attribute:: delimiter

        This is an optional argument which defaults to a comma: ``,``. This
        value is used to split the submitted data. It allows you to chain
        ``SimpleArrayField`` for multidimensional data::

            >>> from django.contrib.postgres.forms import SimpleArrayField
            >>> from django import forms

            >>> class GridForm(forms.Form):
            ...     places = SimpleArrayField(SimpleArrayField(IntegerField()), delimiter='|')

            >>> form = GridForm({'places': '1,2|2,1|4,3'})
            >>> form.is_valid()
            True
            >>> form.cleaned_data
            {'places': [[1, 2], [2, 1], [4, 3]]}

        .. note::

            The field does not support escaping of the delimiter, so be careful
            in cases where the delimiter is a valid character in the underlying
            field. The delimiter does not need to be only one character.

    .. attribute:: max_length

        This is an optional argument which validates that the array does not
        exceed the stated length.

    .. attribute:: min_length

        This is an optional argument which validates that the array reaches at
        least the stated length.

    .. admonition:: User friendly forms

        ``SimpleArrayField`` is not particularly user friendly in most cases,
        however it is a useful way to format data from a client-side widget for
        submission to the server.
