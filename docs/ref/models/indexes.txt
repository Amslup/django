=====================
Model index reference
=====================

.. module:: django.db.models.indexes

.. currentmodule:: django.db.models

.. versionadded:: 1.11

Index classes ease creating database indexes. They can be added using the
:attr:`Meta.indexes <django.db.models.Options.indexes>` option. This document
explains the API references of :class:`Index` which includes the `index
options`_.

.. admonition:: Referencing built-in indexes

    Indexes are defined in ``django.db.models.indexes``, but for convenience
    they're imported into :mod:`django.db.models`. The standard convention is
    to use ``from django.db import models`` and refer to the indexes as
    ``models.<IndexClass>``.

``Index`` options
=================

.. class:: Index(fields=[], name=None)

    Creates an index (B-Tree) in the database.

``fields``
-----------

.. attribute:: Index.fields

A list of the name of the fields on which the index is desired.

By default the indexes are created with an ascending order for all the columns.
To define an index with a descending order for a particular column, a hyphen
(-) can be added before the field's name while defining the index.

For example::

    Index(fields=['headline', '-pub_date'], name='headline_pub_date_reverse_idx')

The above index would issue an SQL with ``(headline, pub_date DESC)``. This is
supported only for PostgreSQL, Oracle and SQLite. Databases that don't
support defining ordering on index columns simply ignore the ``ASC/DESC``
keywords in the executed SQL.

  .. admonition:: Support for column ordering on SQLite

    Column ordering is supported by SQLite only for versions>=3.3.0 and some
    database file formats. Please refer the `official docs
    <https://www.sqlite.org/lang_createindex.html>`_ of SQLite for specifics.

``name``
--------

.. attribute:: Index.name

The name of the index. If ``name`` isn't provided Django will auto-generate a
name. For compatibility with different databases, index names cannot be longer
than 30 characters and shouldn't start with a number (0-9) or underscore (_).
